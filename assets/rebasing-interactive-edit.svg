<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg"
width="1000px"
height="800px"
viewBox="10 0 300 300"
preserveAspectRatio="xMidYMid meet"
xmlns:xlink="http://www.w3.org/1999/xlink">

<defs>
  <style type="text/css">
    @import url('assets/svg-styles.css');
    
    <!-- style overrides -->
    <![CDATA[
    ]]>
  </style>

  <marker id='head' orient='auto' markerWidth='2' markerHeight='8' refX='0.1' refY='2'>
    <path d='M0,0 V4 L2,2 Z' fill='gray' />
  </marker>
</defs>

<text x="10" y="40" class="heading">
Interactive Rebasing
</text>

<text x="10" y="60">
Edit commits to separate into unique ideas.
</text>
    
<line x1="20" y1="70" 
    x2="20" y2="195" 
    stroke="black" 
    stroke-width="2"/>

<g opacity="">
<circle id="commit1" class="commit commit-master" cy="175" opacity="0.7"/>
<text id="message1" x="40" y="180">
    [#303] Add diagram for merge types
</text>
<animate attributeType="CSS" attributeName="opacity"
  from="0"
  to="1"
  dur="1s"
  begin="1s"
  fill="freeze" />
</g>

<g opacity="" id="commit2-object">
<circle id="commit2" class="commit commit-master fixup" cy="145" opacity="0.7"/>
<text id="message2" x="40" y="150">
    New diagram for rebase + style sheet cleanup
</text>
<animate attributeType="CSS" attributeName="opacity"
  from="0"
  to="1"
  dur="1s"
  begin="2s"
  fill="freeze" />
</g>

<g opacity="">
<circle id="commit3" class="commit commit-master" cy="115" opacity="0.7"/>
<text id="message3" x="40" y="120">
    [#308] Add diagram for squashing commits 
</text>
<animate attributeType="CSS" attributeName="opacity"
  from="0"
  to="1"
  dur="1s"
  begin="3s"
  fill="freeze" />
</g>

<g opacity="">
<circle id="commit4" class="commit commit-master" cy="85" opacity="0.7"/>
<text id="message4" x="40" y="90">
  [#321] Add cover illustration for book
</text>
<animate attributeType="CSS" attributeName="opacity"
  from="0"
  to="1"
  dur="1s"
  begin="4s"
  fill="freeze" />
</g>

<!--
<g opacity="">
<circle id="commit5" class="commit commit-master" cy="55" opacity="0.7"/>
<text id="message5" x="40" y="60" opacity="">
  <animate attributeType="CSS" attributeName="opacity"
    from="0"
    to="1"
    dur="1s"
    begin="5s"
    fill="freeze" />
    [#308] Add diagram for rebase interactive squash
</text>
</g>
-->

<g opacity="0" id="commit6-object">
<circle id="commit6" class="commit commit-master rebased" cy="138" opacity="1"/>
<text id="message6" class="rebased" x="40" y="143">
    [#312] Use external style sheet for SVG diagrams
</text>
</g>

<g opacity="0" id="commit7-object">
<circle id="commit7" class="commit commit-master rebased" cy="157" opacity="1"/>
<text id="message7" class="rebased" x="40" y="162">
    [#314] Add diagram for rebase --interactive edit 
</text>
</g>

<!-- blink through each of the commits -->
<animate
    xlink:href="#commit1"
    attributeName="cy"
    dur="3s"
    begin="5s"
    fill="freeze" 
    repeatCount="1"
    id="commit1-anim" />
<animate 
    xlink:href="#commit2"
    attributeName="cy" 
    dur="3s"
    begin="5s"
    fill="freeze" 
    repeatCount="1"
    id="commit2-anim" />
<animate 
    xlink:href="#commit3"
    attributeName="cy" 
    dur="3s"
    begin="5s"
    fill="freeze" 
    repeatCount="1"
    id="commit3-anim" />
<animate 
    xlink:href="#commit4"
    attributeName="cy" 
    dur="3s"
    begin="5s"
    fill="freeze" 
    repeatCount="1"
    id="commit4-anim" />

<!-- decrease the prominence of the commits we're not changing -->
<animate xlink:href="#message1"
    attributeType="CSS" attributeName="opacity"
    from="1"
    to=".2"
    dur="1s"
    begin="5s"
    fill="freeze" 
    id="message1-anim" />
<animate xlink:href="#message3"
    attributeType="CSS" attributeName="opacity"
    from="1"
    to=".2"
    dur="2.5s"
    begin="5s"
    fill="freeze" 
    id="message3-anim" />
<animate xlink:href="#message4"
    attributeType="CSS" attributeName="opacity"
    from="1"
    to=".2"
    dur="2.5s"
    begin="5s"
    fill="freeze" 
    id="message4-anim" />
<animate xlink:href="#message5"
    attributeType="CSS" attributeName="opacity"
    from="1"
    to=".2"
    dur="2.5s"
    begin="5s"
    fill="freeze" 
    id="message5-anim" />

<!-- separate the single commit2 into commits 6 and 7 -->
<animate
    xlink:href="#message2"
    attributeType="CSS" attributeName="opacity"
    from="1"
    to="0"
    dur="2.5s"
    begin="5s"
    fill="freeze" />
<animate
    xlink:href="#commit2"
    attributeName="cy"
    to="225"
    dur="1s"
    begin="5s"
    fill="freeze"
    repeatCount="1"
    id="commit2-position-anim" />
<animate 
    xlink:href="#message2"
    attributeName="y"
    to="230"
    dur="1s"
    begin="5s"
    fill="freeze" 
    repeatCount="1"
    id="message2-position-anim" />
<animate
    xlink:href="#message2"
    attributeType="CSS" attributeName="opacity"
    from=".2"
    to=".5"
    dur="1s"
    begin="6s"
    fill="freeze" />

<animate 
    xlink:href="#commit6-object"
    attributeName="opacity" 
    to="1" 
    dur=".5s"
    begin="9s"
    fill="freeze" 
    repeatCount="1"
    id="commit6-anim" />

<animate 
    xlink:href="#commit7-object"
    attributeName="opacity" 
    to="1" 
    dur=".5s"
    begin="8s"
    fill="freeze" 
    repeatCount="1"
    id="commit7-anim" />

<!-- darken the commit message for all items in the new DAG -->
<animate xlink:href="#message1"
    attributeType="CSS" attributeName="opacity"
    to="1"
    dur=".5s"
    begin="7s"
    fill="freeze" 
    id="message1-anim-addtodag" />
<animate xlink:href="#message3"
    attributeType="CSS" attributeName="opacity"
    to="1"
    dur=".5s"
    begin="10s"
    fill="freeze" 
    id="message3-anim-addtodag" />
<animate xlink:href="#message4"
    attributeType="CSS" attributeName="opacity"
    to="1"
    dur=".5s"
    begin="11s"
    fill="freeze" 
    id="message4-anim-addtodag" />
<animate xlink:href="#message5"
    attributeType="CSS" attributeName="opacity"
    to="1"
    dur=".5s"
    begin="12s"
    fill="freeze" 
    id="message5-anim-addtodag" />

<!-- update the commit colours to reflect new commit hash -->
<animate xlink:href="#commit3"
    attributeType="CSS" attributeName="fill"
    to="pink"
    dur=".5s"
    begin="10s"
    fill="freeze" 
    id="commit3-anim-addtodag-rebased" />
<animate xlink:href="#commit4"
    attributeType="CSS" attributeName="fill"
    to="pink"
    dur=".5s"
    begin="11s"
    fill="freeze" 
    id="commit4-anim-addtodag-rebased" />
<animate xlink:href="#commit5"
    attributeType="CSS" attributeName="fill"
    to="pink"
    dur=".5s"
    begin="12s"
    fill="freeze" 
    id="commit5-anim-addtodag-rebased" />

</svg>
